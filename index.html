<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å…­ç¬¬6å†Šç¬¬4èª² - æˆ°çˆ­èˆ‡å’Œå¹³ | å¸¸è­˜å•ç­”æ¯”è³½</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft JhengHei', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-color: #58cc02;
            --secondary-color: #1cb0f6;
            --danger-color: #ff4b4b;
            --light-color: #f8f9fa;
            --dark-color: #333;
            --gray-color: #e5e5e5;
            --text-color: #3c3c3c;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --border-radius: 16px;
        }

        body {
            background-color: #f0f2f5;
            color: var(--text-color);
            line-height: 1.6;
            padding: 10px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header Styles */
        header {
            text-align: center;
            padding: 15px 10px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        h1 {
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        h1 i {
            color: var(--secondary-color);
        }

        .lesson-info {
            font-size: 1rem;
            color: #666;
            margin-top: 5px;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            background-color: var(--gray-color);
            border-radius: 10px;
            margin: 15px 0;
            height: 12px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary-color);
            width: 30%;
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .progress-text {
            font-size: 0.9rem;
            color: #666;
            text-align: center;
            margin-top: 5px;
        }

        /* Main Content */
        .main-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }

        /* Duolingo Logo */
        .logo-container {
            text-align: center;
            margin-bottom: 10px;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        /* Speech Bubble */
        .speech-bubble {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            position: relative;
            margin-bottom: 10px;
        }

        .speech-bubble:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50px;
            width: 0;
            height: 0;
            border: 15px solid transparent;
            border-top-color: white;
            border-bottom: 0;
            margin-left: -15px;
            margin-bottom: -15px;
        }

        .sentence {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--dark-color);
            margin-bottom: 15px;
            line-height: 1.4;
            text-align: center;
        }

        .sentence-en {
            font-size: 1.4rem;
            color: #666;
            text-align: center;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }

        .hint {
            font-size: 1rem;
            color: #666;
            border-left: 4px solid var(--secondary-color);
            padding-left: 12px;
            margin-top: 15px;
        }

        /* Destination Area */
        .destination-area {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            min-height: 120px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
            margin-top: 25px;
            border: 2px dashed #ddd;
            transition: border-color 0.3s;
        }

        .destination-area.active {
            border-color: var(--primary-color);
        }

        .word-slot {
            padding: 12px 20px;
            background-color: var(--light-color);
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--dark-color);
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
            border: 2px solid transparent;
        }

        .word-slot:hover {
            background-color: #e9ecef;
            transform: translateY(-2px);
        }

        .word-slot.selected {
            background-color: var(--primary-color);
            color: white;
        }

        .word-slot.incorrect {
            background-color: var(--danger-color);
            color: white;
        }

        /* Word Bank */
        .word-bank {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-top: 10px;
        }

        .word-bank-title {
            font-size: 1.2rem;
            color: var(--dark-color);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .word-bank-title i {
            color: var(--secondary-color);
        }

        .words-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .word-option {
            padding: 12px 20px;
            background-color: var(--light-color);
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 500;
            color: var(--dark-color);
            cursor: pointer;
            transition: all 0.2s;
            user-select: none;
            border: 2px solid transparent;
        }

        .word-option:hover {
            background-color: var(--secondary-color);
            color: white;
            transform: translateY(-2px);
        }

        .word-option.selected {
            background-color: var(--primary-color);
            color: white;
        }

        .word-option.used {
            opacity: 0.5;
            cursor: not-allowed;
            text-decoration: line-through;
        }

        .word-option.used:hover {
            background-color: var(--light-color);
            color: var(--dark-color);
            transform: none;
        }

        /* Footer */
        footer {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-skip {
            background-color: var(--gray-color);
            color: #666;
        }

        .btn-skip:hover {
            background-color: #d8d8d8;
        }

        .btn-check {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-check:hover {
            background-color: #4ab901;
        }

        .btn-check:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        /* Feedback Message */
        .feedback {
            text-align: center;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-top: 15px;
            font-weight: 500;
            display: none;
        }

        .feedback.correct {
            background-color: rgba(88, 204, 2, 0.1);
            color: #2a7c00;
            border: 2px solid var(--primary-color);
            display: block;
        }

        .feedback.incorrect {
            background-color: rgba(255, 75, 75, 0.1);
            color: #cc0000;
            border: 2px solid var(--danger-color);
            display: block;
        }

        /* Question Type Indicator */
        .question-type {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sentence {
                font-size: 1.5rem;
            }
            
            .sentence-en {
                font-size: 1.2rem;
            }
            
            .word-option, .word-slot {
                font-size: 1.1rem;
                padding: 10px 16px;
            }
            
            footer {
                flex-direction: column;
                gap: 12px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.5rem;
            }
            
            .sentence {
                font-size: 1.3rem;
            }
            
            .sentence-en {
                font-size: 1.1rem;
            }
            
            .word-option, .word-slot {
                font-size: 1rem;
                padding: 8px 14px;
            }
            
            .speech-bubble, .word-bank, .destination-area {
                padding: 18px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-graduation-cap"></i> å°å…­ç¬¬6å†Šç¬¬4èª² - æˆ°çˆ­èˆ‡å’Œå¹³</h1>
        <div class="lesson-info">å¸¸è­˜å•ç­”æ¯”è³½ï¼šæ ¹æ“šèª²æ–‡å…§å®¹å›ç­”å•é¡Œ</div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="progress-text" id="progressText">ç¬¬ 3 é¡Œï¼Œå…± 10 é¡Œ</div>
    </header>

    <div class="main-container">
        <div class="logo-container">
            <div class="logo">ğŸ“š æˆ°çˆ­èˆ‡å’Œå¹³å¸¸è­˜å•ç­”</div>
        </div>

        <div class="speech-bubble">
            <div class="question-type">å•ç­”é¡Œ</div>
            <div class="sentence" id="sentence">æˆ°çˆ­æ˜¯ç”šéº¼ï¼Ÿ</div>
            <div class="hint">é»æ“Šä¸‹æ–¹è©èªä¾†çµ„æˆæ­£ç¢ºç­”æ¡ˆã€‚ä¸æ˜¯æ‰€æœ‰è©èªéƒ½æœƒç”¨åˆ°ã€‚</div>
        </div>

        <div class="destination-area" id="destinationArea">
            <!-- å·²é¸è©èªå°‡å‡ºç¾åœ¨é€™è£¡ -->
            <div class="placeholder">é»æ“Šä¸‹æ–¹è©èªä¾†çµ„æˆç­”æ¡ˆ</div>
        </div>

        <div class="word-bank">
            <div class="word-bank-title"><i class="fas fa-list"></i> è©èªåº«</div>
            <div class="words-container" id="wordsContainer">
                <!-- è©èªå°‡ç”±JavaScriptå‹•æ…‹ç”Ÿæˆ -->
            </div>
        </div>

        <div class="feedback" id="feedback"></div>
    </div>

    <footer>
        <button class="btn btn-skip" id="skipBtn">
            <i class="fas fa-forward"></i> è·³é
        </button>
        <button class="btn btn-check" id="checkBtn" disabled>
            <i class="fas fa-check"></i> æª¢æŸ¥ç­”æ¡ˆ
        </button>
    </footer>

    <script>
        // ç·´ç¿’æ•¸æ“š - åŸºæ–¼ã€Šæˆ°çˆ­èˆ‡å’Œå¹³ã€‹èª²æ–‡å…§å®¹çš„è‡ªå•è‡ªç­”
        const exercises = [
            {
                id: 1,
                question: "æˆ°çˆ­æ˜¯ç”šéº¼ï¼Ÿ",
                answer: ["æˆ°çˆ­", "æ˜¯", "ä¸€ç¨®", "ä»¥", "æ­¦åŠ›", "è§£æ±º", "ç´›çˆ­", "çš„", "æ–¹æ³•"],
                extraWords: ["å’Œå¹³", "è«‡åˆ¤", "å°è©±", "å¤–äº¤"]
            },
            {
                id: 2,
                question: "ç‚ºç”šéº¼æœƒçˆ†ç™¼æˆ°çˆ­ï¼Ÿ",
                answer: ["æˆ°çˆ­", "çˆ†ç™¼", "çš„", "åŸå› ", "åŒ…æ‹¬", "é ˜åœŸ", "ç´›çˆ­", "ç¶“æ¿Ÿ", "åˆ©ç›Š", "å®—æ•™", "è¡çª", "å‹¢åŠ›", "æ“´å¼µ"],
                extraWords: ["æ–‡åŒ–", "äº¤æµ", "è²¿æ˜“", "åˆä½œ", "é«”è‚²", "ç«¶è³½"]
            },
            {
                id: 3,
                question: "æˆ°çˆ­å¸¶ä¾†å“ªäº›çŸ­æœŸå½±éŸ¿ï¼Ÿ",
                answer: ["çŸ­æœŸ", "å½±éŸ¿", "åŒ…æ‹¬", "äººå‘½", "å‚·äº¡", "åŸºç¤", "è¨­æ–½", "ç ´å£"],
                extraWords: ["ç¶“æ¿Ÿ", "ç™¼å±•", "æ–‡åŒ–äº¤æµ", "æ•™è‚²", "é€²æ­¥", "ç§‘æŠ€", "å‰µæ–°"]
            },
            {
                id: 4,
                question: "æˆ°çˆ­å¸¶ä¾†å“ªäº›é•·æœŸå½±éŸ¿ï¼Ÿ",
                answer: ["é•·æœŸ", "å½±éŸ¿", "åŒ…æ‹¬", "åœ°é›·", "æŒçºŒ", "å¨è„…", "åœŸåœ°", "è’å»¢", "é›£æ°‘", "æµé›¢å¤±æ‰€", "å¿ƒéˆ", "å‰µå‚·"],
                extraWords: ["ç¶“æ¿Ÿ", "ç¹æ¦®", "äººå£", "å¢é•·", "åŸå¸‚", "ç™¼å±•", "ç’°å¢ƒ", "ç¾åŒ–"]
            },
            {
                id: 5,
                question: "è«‹èˆ‰å‡ºè¿‘ç™¾å¹´ä¾†çš„ä¸€äº›é‡è¦æˆ°çˆ­ã€‚",
                answer: ["ç¬¬ä¸€", "æ¬¡", "ä¸–ç•Œ", "å¤§æˆ°", "ç¬¬äºŒ", "æ¬¡", "ä¸–ç•Œ", "å¤§æˆ°", "å—åŒ—", "éŸ“", "æˆ°çˆ­", "å…©ä¼Š", "æˆ°çˆ­", "è¶Šå—", "æˆ°çˆ­", "ä¼Šæ‹‰å…‹", "æˆ°çˆ­"],
                extraWords: ["å†·æˆ°", "è²¿æ˜“æˆ°", "æ–‡åŒ–æˆ°", "é«”è‚²", "è³½äº‹", "å¥§é‹", "æœƒ"]
            },
            {
                id: 6,
                question: "è¯åˆåœ‹å¦‚ä½•ç¶­è­·ä¸–ç•Œå’Œå¹³ï¼Ÿ",
                answer: ["è¯åˆåœ‹", "çš„", "ä¸»è¦", "å·¥ä½œ", "åŒ…æ‹¬", "ç›£å¯Ÿ", "æ­¦è£", "çµ„ç¹”", "èª¿è§£", "ç´›çˆ­", "æ´åŠ©", "é›£æ°‘", "æ¶ˆé™¤", "å¤§", "æ®ºå‚·åŠ›", "æ­¦å™¨"],
                extraWords: ["èˆ‰è¾¦", "é‹å‹•æœƒ", "æ¨å»£", "æ—…éŠ", "ç™¼å±•", "ç¶“æ¿Ÿ", "è²¿æ˜“"]
            },
            {
                id: 7,
                question: "ç„¡åœ‹ç•Œé†«ç”Ÿçš„ä¸»è¦å·¥ä½œæ˜¯ç”šéº¼ï¼Ÿ",
                answer: ["ç„¡åœ‹ç•Œ", "é†«ç”Ÿ", "æä¾›", "é†«ç™‚", "æ´åŠ©", "æ›¾", "ç²", "è«¾è²çˆ¾", "å’Œå¹³", "ç"],
                extraWords: ["æ•™è‚²", "æœå‹™", "å»ºç¯‰", "å·¥ç¨‹", "è¾²æ¥­", "ç™¼å±•", "ç§‘æŠ€", "ç ”ç™¼"]
            },
            {
                id: 8,
                question: "æˆ°çˆ­å°é›£æ°‘æœ‰ç”šéº¼å½±éŸ¿ï¼Ÿ",
                answer: ["é›£æ°‘", "å› ", "æˆ°çˆ­", "è¢«è¿«", "é›¢é–‹", "å®¶åœ’", "é¢å°", "è¦ªäºº", "å¤±æ•£", "æˆ–", "é›¢ä¸–", "æ‰¿å—", "å¿ƒéˆ", "å‰µå‚·"],
                extraWords: ["ç²å¾—", "æ–°", "æ©Ÿæœƒ", "å­¸ç¿’", "æ–°", "æŠ€èƒ½", "èªè­˜", "æ–°", "æœ‹å‹", "é«”é©—", "æ–°", "æ–‡åŒ–"]
            },
            {
                id: 9,
                question: "æ€æ¨£æ‰èƒ½é¿å…æˆ°çˆ­ï¼Ÿ",
                answer: ["é¿å…", "æˆ°çˆ­", "éœ€è¦", "åœ‹éš›", "é–“", "åˆä½œ", "å½¼æ­¤", "å°Šé‡", "äº’è«’", "äº’è®“", "é€é", "å°è©±", "èˆ‡", "å¤–äº¤", "æ‰‹æ®µ", "è§£æ±º", "ç´›çˆ­"],
                extraWords: ["æ­¦åŠ›", "å¨è„…", "ç¶“æ¿Ÿ", "åˆ¶è£", "è»äº‹", "æ¼”ç¿’", "é–“è«œ", "æ´»å‹•"]
            },
            {
                id: 10,
                question: "æœ¬èª²ç¸½çµä¸­å¼·èª¿äº†å“ªäº›ç¶­è­·å’Œå¹³çš„åŸå‰‡ï¼Ÿ",
                answer: ["æœ¬èª²", "å¼·èª¿", "ä»»ä½•", "ç´›çˆ­", "éƒ½", "ä¸æ‡‰", "ä»¥", "æ­¦åŠ›", "è§£æ±º", "åœ‹éš›", "çµ„ç¹”", "æ‡‰", "ä¿ƒé€²", "åˆä½œ", "é€šé", "å°Šé‡", "ç†è§£", "èˆ‡", "è®“æ­¥", "ä¾†", "ç¶­è­·", "ä¸–ç•Œ", "å’Œå¹³"],
                extraWords: ["ç«¶çˆ­", "å°æŠ—", "å­¤ç«‹", "åˆ¶è£", "å¨è„…", "å ±å¾©", "æ‡²ç½°"]
            }
        ];

        // ç•¶å‰ç·´ç¿’ç´¢å¼•
        let currentExerciseIndex = 0;
        let selectedWords = [];
        let wordElements = [];

        // DOMå…ƒç´ 
        const sentenceElement = document.getElementById('sentence');
        const destinationArea = document.getElementById('destinationArea');
        const wordsContainer = document.getElementById('wordsContainer');
        const checkBtn = document.getElementById('checkBtn');
        const skipBtn = document.getElementById('skipBtn');
        const feedbackElement = document.getElementById('feedback');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');

        // åˆå§‹åŒ–
        function init() {
            loadExercise(currentExerciseIndex);
            updateProgress();
            
            // æ·»åŠ äº‹ä»¶ç›£è½å™¨
            checkBtn.addEventListener('click', checkAnswer);
            skipBtn.addEventListener('click', skipExercise);
        }

        // è¼‰å…¥ç·´ç¿’
        function loadExercise(index) {
            const exercise = exercises[index];
            
            // é‡ç½®ç‹€æ…‹
            selectedWords = [];
            wordElements = [];
            destinationArea.innerHTML = '<div class="placeholder">é»æ“Šä¸‹æ–¹è©èªä¾†çµ„æˆç­”æ¡ˆ</div>';
            destinationArea.classList.remove('active');
            feedbackElement.className = 'feedback';
            feedbackElement.textContent = '';
            checkBtn.disabled = true;
            
            // æ›´æ–°å•é¡Œ
            sentenceElement.textContent = exercise.question;
            
            // å‰µå»ºè©èªåº«
            createWordBank(exercise);
        }

        // å‰µå»ºè©èªåº«
        function createWordBank(exercise) {
            wordsContainer.innerHTML = '';
            
            // åˆä½µæ­£ç¢ºè©èªå’Œé¡å¤–è©èª
            const allWords = [...exercise.answer, ...exercise.extraWords];
            
            // éš¨æ©Ÿæ’åº
            const shuffledWords = shuffleArray([...allWords]);
            
            // å‰µå»ºè©èªå…ƒç´ 
            shuffledWords.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-option';
                wordElement.textContent = word;
                wordElement.dataset.word = word;
                
                // æ·»åŠ é»æ“Šäº‹ä»¶
                wordElement.addEventListener('click', () => selectWord(word, wordElement));
                
                // æ·»åŠ åˆ°å®¹å™¨
                wordsContainer.appendChild(wordElement);
                wordElements.push({word, element: wordElement});
            });
        }

        // é¸æ“‡è©èª
        function selectWord(word, element) {
            // å¦‚æœè©èªå·²è¢«ä½¿ç”¨ï¼Œå‰‡å¿½ç•¥
            if (element.classList.contains('used')) {
                return;
            }
            
            // æ¨™è¨˜è©èªç‚ºå·²ä½¿ç”¨
            element.classList.add('used');
            element.classList.add('selected');
            
            // æ·»åŠ åˆ°å·²é¸è©èªåˆ—è¡¨
            selectedWords.push(word);
            
            // æ›´æ–°ç›®æ¨™å€åŸŸ
            updateDestinationArea();
            
            // å•Ÿç”¨æª¢æŸ¥æŒ‰éˆ•
            checkBtn.disabled = false;
        }

        // æ›´æ–°ç›®æ¨™å€åŸŸ
        function updateDestinationArea() {
            destinationArea.innerHTML = '';
            destinationArea.classList.add('active');
            
            selectedWords.forEach((word, index) => {
                const wordSlot = document.createElement('div');
                wordSlot.className = 'word-slot';
                wordSlot.textContent = word;
                wordSlot.dataset.index = index;
                
                // æ·»åŠ é»æ“Šäº‹ä»¶ä»¥å–æ¶ˆé¸æ“‡
                wordSlot.addEventListener('click', () => deselectWord(index));
                
                destinationArea.appendChild(wordSlot);
            });
        }

        // å–æ¶ˆé¸æ“‡è©èª
        function deselectWord(index) {
            // å¾å·²é¸è©èªä¸­ç§»é™¤
            const removedWord = selectedWords.splice(index, 1)[0];
            
            // æ‰¾åˆ°å°æ‡‰çš„è©èªå…ƒç´ ä¸¦æ¢å¾©
            const wordElement = wordElements.find(item => item.word === removedWord && item.element.classList.contains('used'));
            if (wordElement) {
                wordElement.element.classList.remove('used');
                wordElement.element.classList.remove('selected');
            }
            
            // æ›´æ–°ç›®æ¨™å€åŸŸ
            if (selectedWords.length === 0) {
                destinationArea.innerHTML = '<div class="placeholder">é»æ“Šä¸‹æ–¹è©èªä¾†çµ„æˆç­”æ¡ˆ</div>';
                destinationArea.classList.remove('active');
                checkBtn.disabled = true;
            } else {
                updateDestinationArea();
            }
        }

        // æª¢æŸ¥ç­”æ¡ˆ
        function checkAnswer() {
            const currentExercise = exercises[currentExerciseIndex];
            const correctAnswer = currentExercise.answer;
            
            // æª¢æŸ¥æ˜¯å¦å®Œå…¨åŒ¹é…
            const isCorrect = arraysEqual(selectedWords, correctAnswer);
            
            // é¡¯ç¤ºåé¥‹
            if (isCorrect) {
                feedbackElement.textContent = 'âœ“ æ­£ç¢ºï¼ç­”æ¡ˆå®Œå…¨æ­£ç¢ºã€‚';
                feedbackElement.className = 'feedback correct';
                
                // é¡¯ç¤ºå®Œæ•´ç­”æ¡ˆ
                const fullAnswer = correctAnswer.join('');
                setTimeout(() => {
                    feedbackElement.innerHTML += `<br><small>å®Œæ•´ç­”æ¡ˆï¼š${fullAnswer}</small>`;
                }, 500);
                
                // è‡ªå‹•é€²å…¥ä¸‹ä¸€é¡Œ
                setTimeout(() => {
                    nextExercise();
                }, 2000);
            } else {
                feedbackElement.textContent = 'âœ— ä¸æ­£ç¢ºã€‚è«‹å†è©¦ä¸€æ¬¡ã€‚';
                feedbackElement.className = 'feedback incorrect';
                
                // æ¨™è¨˜éŒ¯èª¤çš„è©èª
                markIncorrectWords(correctAnswer);
            }
        }

        // æ¨™è¨˜éŒ¯èª¤çš„è©èª
        function markIncorrectWords(correctAnswer) {
            const wordSlots = document.querySelectorAll('.word-slot');
            
            wordSlots.forEach((slot, index) => {
                if (selectedWords[index] !== correctAnswer[index]) {
                    slot.classList.add('incorrect');
                }
            });
        }

        // è·³éç·´ç¿’
        function skipExercise() {
            nextExercise();
        }

        // ä¸‹ä¸€é¡Œ
        function nextExercise() {
            currentExerciseIndex++;
            
            if (currentExerciseIndex >= exercises.length) {
                currentExerciseIndex = 0; // å¾ªç’°å›åˆ°ç¬¬ä¸€é¡Œ
            }
            
            loadExercise(currentExerciseIndex);
            updateProgress();
        }

        // æ›´æ–°é€²åº¦æ¢
        function updateProgress() {
            const progressPercentage = ((currentExerciseIndex + 1) / exercises.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            progressText.textContent = `ç¬¬ ${currentExerciseIndex + 1} é¡Œï¼Œå…± ${exercises.length} é¡Œ`;
        }

        // è¼”åŠ©å‡½æ•¸ï¼šéš¨æ©Ÿæ’åºæ•¸çµ„
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // è¼”åŠ©å‡½æ•¸ï¼šæ¯”è¼ƒå…©å€‹æ•¸çµ„æ˜¯å¦ç›¸ç­‰
        function arraysEqual(arr1, arr2) {
            if (arr1.length !== arr2.length) return false;
            for (let i = 0; i < arr1.length; i++) {
                if (arr1[i] !== arr2[i]) return false;
            }
            return true;
        }

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
